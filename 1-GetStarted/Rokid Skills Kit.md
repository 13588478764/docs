# Rokid技能开发工具介绍
为搭载Rokid解决方案的设备开发有趣的技能。

## 文档结构
- [什么是Rokid技能开发工具](#1-什么是rokid技能开发工具)
    - [技能种类](#1.1-技能种类)
        - [不同类型的技能](#1.1.1-不同类型的技能)
            - [自定义技能](#自定义技能)
            - [预定义技能](#预定义技能) 
        - [不同属性的技能](#1.1.2-不同属性的技能)
            - [公开技能](#公开技能)
            - [私有技能](#私有技能)
    - [我应该创建哪一种技能](#1.2-我应该创建哪一种技能)
- [用6步快速创建一个Rokid技能](#2.1-用6步快速创建一个rokid技能)
    - [1 注册Rokid开发者账号](#2.1-注册rokid开发者账号)
    - [2 创建一个技能](#2.2-创建一个技能)
    - [3 定义技能的语音交互并进行后端配置](#2.3-定义技能的语音交互并进行后端配置)
    - [4 测试你的技能](#2.4-测试你的技能)
    - [5 自定义你的技能](#2.5-自定义你的技能)
    - [6 发布](#2.6-发布)
- [模板工程](#模板工程)
- [支持](#支持)


## 1 什么是Rokid技能开发工具
Rokid开放平台语音解决方案为用户提供了各种不同场景下的应用，比如音乐、天气、新闻、百科等等，我们将他们称之为：**技能（Skills）**。

Rokid技能开发工具可以帮助你去创建一个新的Rokid**技能**，你可以通过**技能**向用户提供各种各样的服务，比如：

- 问一些具体的问题（“若琪，问问Rokid天气明天杭州会不会下雨。”）
- 玩语音小游戏（“若琪，我要玩文字猜谜。”）
- 控制智能家居设备（“若琪，把卧室的灯打开。”）
- 播放新闻摘要（“若琪，让Rokid新闻播放最新的新闻。”）

### 1.1 技能种类
当你创建一个新的技能时，需要首先考虑技能的种类。不同种类的技能可以用来面对不同的业务场景。Rokid技能开发工具提供2个维度的4种技能，分别是：

- 不同类型的技能
    - 自定义技能
    - 预定义技能
- 不同属性的技能
    - 公开技能
    - 私有技能

#### 1.1.1 不同类型的技能
##### ① 自定义技能
如果你面对的是复杂的语音交互场景，你需要选择`自定义技能`。该类型的技能需要你对`语音交互`进行自定义。
具体来说，你需要定义：

- 技能可处理的具体需求。我们将这些需求称之为`意图`。举例来说，以下都可以被视为某个技能中的一个意图：

    - 播放音乐
    - 查询天气
    - 播放新闻
    - 其他任何你能想到的一个具体动作

- 用户达成一个意图所有可能的对话方式，我们称之为`用户语句`。用户语句决定了一个用户与你技能之间的交互方式，举例：

    - “给我放一首歌”(这句话对应了**播放音乐**这个意图)
    - “杭州今天天气怎么样”（这句话对应了**查询天气**这个意图）
    - “今天有什么新闻”（这句话对应了**播放新闻**这个意图）

- 技能理解用户语句并将其转换为意图，有时还需要`词表`的帮助。比如：

    - 理解“给我放一首**歌**”，需要拥有**歌曲库**词表
    - 理解“**杭州今天**天气怎么样”，需要拥有**城市**和**日期**词表
    - 理解“**今天**有什么新闻”，需要拥有**日期**词表

- 此外，Rokid还需要通过`入口词`来分辨用户是在和你的技能进行语音交互。用户需要使用含有入口词的语句来唤起你的技能。比如，你为你的音乐技能设定的入口词为“Rokid音乐”。

完成以上定义后，用户就可以用如下语句与你的技能进行交互了：
>用户：“若琪，让**Rokid音乐**给我放一首歌”

Rokid将会理解用户的请求，并将**播放音乐**这个意图发送给你的技能。

只要你在`语音交互`中预制了充分的用户语句、词表和意图，并且通过代码在后端服务实现这些意图，自定义技能就能够最大限度的满足你预期的用户需求。这种技能最灵活，但也因为需要配置`语音交互`，而较为复杂。

##### ② 预定义技能
如果你想创建一个听音乐这样的内容类技能，或是能够开关灯、调节空调温度这样用于智能家居设备的技能，你可以考虑使用`预定义技能`。该类型的技能的`语音交互`将由Rokid定义且不断更新，你仅需要在后端服务中直接实现对应的`意图`即可。
预定义技能不完全依赖入口词唤起，因此对用户会更加友好。比如用户可以直接说：“若琪，把房间的灯打开。”来使用你的智能家居技能。

*该类型的技能还在准备中，将在后续开放。*

#### 1.1.2 不同属性的技能
选择完技能的类型之后，你需要为技能选择对应的属性。

##### ① 公开技能
公开属性的技能将会对所有搭载Rokid语音解决方案的设备开放，用户可以通过技能商店轻松开启你的技能。

##### ② 私有技能
私有属性的技能无法向所有用户开放，仅针对经过你授权的企业或个人的特定类型的设备开放。用户需要在这些设备上才能够使用你的技能。

私有的自定义技能同样不依赖入口词，你可以定义更为灵活的`全局用户语句`，让用户通过这些语句来唤起你的技能。比如你有一个私有的音乐应用，就可以直接通过“若琪，**我想听一首邓紫棋的光年之外**。”来直接使用这个技能（需要配置了相应的全局用户语句）。

请注意，如果一个设备中如果有多个功能类似的私有技能，需要开发者自己避免因全局用户语句相近而导致冲突问题。
比如

- 你的设备中同时有一个音乐私有技能和一个有声书私有技能，且词表同时拥有**白雪公主**，可能会出现
    - 用户说：“若琪，我想听**白雪公主**。”时，其中一个私有技能无法被唤起。

### 1.2 我应该创建哪一种技能

以下表格将会帮助你更容易的选择需要创建的技能种类。

|技能种类 | 用途 |
| :--- | :--- |
| 自定义公开技能 |  能够处理任意请求的技能，且对所有人开放。需要带有入口词。|
| 预定义公开技能 | 音乐、智能家居、新闻等成熟场景的技能，且对所有人开放。不依赖入口词。 |
| 自定义私有技能 | 能够处理任意请求的技能，仅针对特定的设备开放。不依赖入口词。|
|预定义私有公开技能| 音乐、智能家居、新闻等成熟场景的技能，且对所有人开放。不依赖入口词。  |


## 2 用6步快速创建一个Rokid技能

### 2.1 注册Rokid开发者账号
免费注册一个Rokid开发者账号。

### 2.2 创建一个技能
登录后，选择「技能开发」，并点击「创建新技能」。

#### 给你的技能起个名字

1. 技能类型请选择「自定义技能」。
2. 技能属性请选择「公开」。
3. 为技能起个好名字。
4. 为技能起一个朗朗上口的「入口词」，用户将用他来唤起你的技能。

完成后请点击「下一步」。

### 2.3 定义技能的语音交互并进行后端配置
首先请查看我们的[GitHub模板工程](https://github.com/Rokid/rokid-skill-sample)。

#### 定义语音交互
接着在「语音交互」页面中，

1. 将模板工程中intent文件内容，复制进「意图定义」编辑框。
2. 将模板工程中的User Says文件内容，复制进「用户语句」编辑框。

完成后请点击「下一步」。

#### 完成服务配置
接着在「服务配置」界面中，选中「JS脚本」，
并将模板工程中的configuration文件内容，复制进编辑框。

完成后请点击「下一步」。

### 2.4 测试你的技能
接下来，在「集成测试」页面中，

1. 在「后端服务测试」下，输入「用户语句」，比如“若琪，打开「入口词」。”
1. 你将会看到下方框体中出现经过Rokid语音服务解析的Json「服务请求」，和相应的「服务返回」。
1. 点击「播放icon」来收听返回的TTS结果。
1. （可选）如果需要在机器上进行测试，请根据公司ID、设备Type ID、设备ID来「添加测试设备」。

### 2.5 自定义你的技能
持续完善中。

### 2.6 发布
持续完善中。

## 模板工程
- Hello若琪：一个简单的示例技能，唤起后会说：“Hello若琪！”

## 支持
- [Rokid开发者社区](https://developer-forum.rokid.com/)


